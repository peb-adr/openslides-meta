id:
  type: number
  restriction_mode: A
  constant: true
  required: true

mediafile_id:
  type: relation
  to: mediafile/meeting_mediafile_ids
  required: true
  restriction_mode: A
meeting_id:
  type: relation
  to: meeting/meeting_mediafile_ids
  required: true
  restriction_mode: A
is_public:
  type: boolean
  description: "Calculated in actions. Used to discern whether the (meeting-)mediafile can be seen by everyone, because, in the case of inherited_access_group_ids == [], it would otherwise not be clear. inherited_access_group_ids == [] can have two causes: cancelling access groups (=> is_public := false) or no access groups at all (=> is_public := true)"
  required: true
  restriction_mode: A
inherited_access_group_ids:
  type: relation-list
  to: group/meeting_mediafile_inherited_access_group_ids
  description: Calculated in actions. Shows what access group permissions are actually relevant. Calculated as the intersection of this meeting_mediafiles access_group_ids and the related mediafiles potential parent mediafiles inherited_access_group_ids. If the parent has no meeting_mediafile for this meeting, its inherited access group is assumed to be the meetings admin group. If there is no parent, the inherited_access_group_ids is equal to the access_group_ids. If the access_group_ids are empty, the interpretations is that every group has access rights, therefore the parent inherited_access_group_ids are used as-is.
  restriction_mode: A
access_group_ids:
  type: relation-list
  to: group/meeting_mediafile_access_group_ids
  restriction_mode: A
list_of_speakers_id:
  type: relation
  to: list_of_speakers/content_object_id
  on_delete: CASCADE
  restriction_mode: A
projection_ids:
  type: relation-list
  to: projection/content_object_id
  on_delete: CASCADE
  restriction_mode: A
attachment_ids:
  type: generic-relation-list
  to:
    collections:
    - motion
    - topic
    - assignment
    field: attachment_meeting_mediafile_ids
  restriction_mode: A

  # Reverse relations for meetings, if a mediafile is used as a special resource
used_as_logo_projector_main_in_meeting_id:
  type: relation
  to: meeting/logo_projector_main_id
  restriction_mode: A
used_as_logo_projector_header_in_meeting_id:
  type: relation
  to: meeting/logo_projector_header_id
  restriction_mode: A
used_as_logo_web_header_in_meeting_id:
  type: relation
  to: meeting/logo_web_header_id
  restriction_mode: A
used_as_logo_pdf_header_l_in_meeting_id:
  type: relation
  to: meeting/logo_pdf_header_l_id
  restriction_mode: A
used_as_logo_pdf_header_r_in_meeting_id:
  type: relation
  to: meeting/logo_pdf_header_r_id
  restriction_mode: A
used_as_logo_pdf_footer_l_in_meeting_id:
  type: relation
  to: meeting/logo_pdf_footer_l_id
  restriction_mode: A
used_as_logo_pdf_footer_r_in_meeting_id:
  type: relation
  to: meeting/logo_pdf_footer_r_id
  restriction_mode: A
used_as_logo_pdf_ballot_paper_in_meeting_id:
  type: relation
  to: meeting/logo_pdf_ballot_paper_id
  restriction_mode: A
used_as_font_regular_in_meeting_id:
  type: relation
  to: meeting/font_regular_id
  restriction_mode: A
used_as_font_italic_in_meeting_id:
  type: relation
  to: meeting/font_italic_id
  restriction_mode: A
used_as_font_bold_in_meeting_id:
  type: relation
  to: meeting/font_bold_id
  restriction_mode: A
used_as_font_bold_italic_in_meeting_id:
  type: relation
  to: meeting/font_bold_italic_id
  restriction_mode: A
used_as_font_monospace_in_meeting_id:
  type: relation
  to: meeting/font_monospace_id
  restriction_mode: A
used_as_font_chyron_speaker_name_in_meeting_id:
  type: relation
  to: meeting/font_chyron_speaker_name_id
  restriction_mode: A
used_as_font_projector_h1_in_meeting_id:
  type: relation
  to: meeting/font_projector_h1_id
  restriction_mode: A
used_as_font_projector_h2_in_meeting_id:
  type: relation
  to: meeting/font_projector_h2_id
  restriction_mode: A

