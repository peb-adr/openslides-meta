---
id:
  type: number
  restriction_mode: A
  constant: true
  required: true

username:
  type: string
  required: true
  restriction_mode: B
member_number:
  type: string
  restriction_mode: B
saml_id:
  type: string
  minLength: 1
  restriction_mode: B
  description: unique-key from IdP for SAML login
pronoun:
  type: string
  maxLength: 32
  restriction_mode: A
title:
  type: string
  restriction_mode: A
first_name:
  type: string
  restriction_mode: A
last_name:
  type: string
  restriction_mode: A
is_active:
  type: boolean
  default: true
  restriction_mode: B
is_physical_person:
  type: boolean
  default: true
  restriction_mode: A
password:
  type: string
  restriction_mode: G
default_password:
  type: string
  restriction_mode: H
can_change_own_password:
  type: boolean
  default: true
  restriction_mode: D
email:
  type: string
  restriction_mode: B
default_vote_weight:
  type: decimal(6)
  default: "1.000000"
  minimum: "0.000001"
  restriction_mode: A
last_email_sent:
  type: timestamp
  restriction_mode: B
is_demo_user:
  type: boolean
  restriction_mode: A
last_login:
  type: timestamp
  restriction_mode: A
  read_only: true
external:
  type: boolean
  restriction_mode: E
gender_id:
  type: relation
  to: gender/user_ids
  restriction_mode: A

  # Organization, meeting and committee
organization_management_level:
  type: string
  description: Hierarchical permission level for the whole organization.
  enum:
  - superadmin
  - can_manage_organization
  - can_manage_users
  restriction_mode: B
is_present_in_meeting_ids:
  type: relation-list
  to: meeting/present_user_ids
  restriction_mode: A

  # Calculates all committee's where the user is
  # - committee-manager (= committees in committee_management_ids)
  # - is member (= has group-rights) of a meeting in the committee
committee_ids:
  type: relation-list
  to: committee/user_ids
  restriction_mode: E
  read_only: true
  description: "Calculated field."

  # committee specific permissions
committee_management_ids:
  type: relation-list
  to: committee/manager_ids
  restriction_mode: E

meeting_user_ids:
  type: relation-list
  to: meeting_user/user_id
  restriction_mode: A
  on_delete: CASCADE
poll_voted_ids:
  type: relation-list
  to: poll/voted_ids
  restriction_mode: A
option_ids:
  type: relation-list
  to: option/content_object_id
  restriction_mode: A
vote_ids:
  type: relation-list
  to: vote/user_id
  restriction_mode: A
delegated_vote_ids:
  type: relation-list
  to: vote/delegated_user_id
  restriction_mode: A
poll_candidate_ids:
  type: relation-list
  to: poll_candidate/user_id
  restriction_mode: A
home_committee_id:
  type: relation
  to: committee/native_user_ids
  restriction_mode: E

history_position_ids:
  type: relation-list
  to: history_position/user_id
  restriction_mode: A
history_entry_ids:
  type: relation-list
  to: history_entry/model_id
  restriction_mode: A

meeting_ids:
  type: number[]
  description: Calculated. All ids from meetings calculated via meeting_user and group_ids as integers.
  read_only: true
  restriction_mode: E
organization_id:
  type: relation
  to: organization/user_ids
  required: true
  restriction_mode: F
  constant: true

